<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
</head>
<body>
{% extends "base.html" %}
{% block content %}
<h1>BATTLEFIELD</h1>
<h2>Enter parameters of <span id="count">1</span> army</h2>
<form id="param" action="" onsubmit="event.preventDefault();" method="POST" name="param">
        <b>Quantity of squads</b>
        <select name="squads">
            <option>2</option>
            <option>3</option>
            <option>4</option>
            <option>5</option>
            <option>6</option>
            <option>7</option>
            <option>8</option>
            <option>9</option>
            <option>10</option>
        </select>
        <b>Quantity of units</b>
        <select name="units">
            <option>5</option>
            <option>6</option>
            <option>7</option>
            <option>8</option>
            <option>9</option>
            <option>10</option>
        </select>
        <b>Strategy</b>
        <select name="strategy">
            <option>strongest</option>
            <option>weakest</option>
            <option>random</option>
        </select>
        <input type="submit" value="Enter" name="param">
        <script>
            $(function() {
    $('form').submit(function() {
        $.ajax({
            url: '/form',
            data: $('form').serialize(),
            type: 'POST',
            success: function(response) {
                if (response == '/result') {
                    window.location = response
                }
                i = Number($("#count").text());
                i += 1;
                $("#count").text(i);
            }
        });
    });
});
        </script>
    </form>
{% endblock %}
</body>
</html>